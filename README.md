# 🎮 [FOR ZEKYLL]

> Unity 기반 [공포게임] 프로젝트
> 
> [한 줄 소개: 3D, 2D 혼합 스토리형 공포 게임]

---

## 📽️ **플레이 영상**
🔗 [YouTube 링크](https://youtu.be/RDKK0YpJNMY)

---

## 🙋‍♂️ **제가 참여한 주요 구현 기능**

### 🧠 **Behavior Tree 기반 몬스터 AI 설계 (Mono Behavior Tree 에셋 활용)**

- **기술 선택 이유**
  - FSM보다 **Behavior Tree**가 AI 행동 조합 및 확장에 유리해 **유지보수성**이 높음
  - 순찰, 추적, 공격 등 **독립 행동**을 쉽게 조합 가능
  - **중복 패턴 재사용**으로 코드 효율성 향상
 
#### 시각 타입 몬스터 설계
- **타겟 추적, 순찰, 공격, 탐지** 기능을 Behavior Tree로 조합
- 장애물을 활용한 **플레이어 은신 플레이** 가능
![Image](https://github.com/user-attachments/assets/79774594-a7c8-447f-9a91-62cb7a0e610a)

#### 청각 타입 몬스터 설계
- 시각 타입과 **공통 순찰 기능 노드 재사용**하여 효율적으로 구현
- **소리 발생**에 반응하는 AI 구성
![Image](https://github.com/user-attachments/assets/a24807ef-6930-4ead-a508-e4db07836812)

---

###  **몬스터 탐지 기능 구현**

#### 👁️‍🗨️ 시각 타입 몬스터 탐지
- **Raycast + LayerMask** 사용하여 타겟 탐지
- **장애물 레이어** 감지 시 탐지 중단 → 플레이어가 장애물로 숨을 수 있게 설계

#### 🔊 청각 타입 몬스터 탐지 기능 구현
- **OverlapSphereNonAlloc** 사용하여 탐지 범위 내의 **LayerMask**에 등록된 타겟 감지
- **탐지 대상 리스트에 저장**, INoise 인터페이스를 통해 소음량 비교
- **가장 큰 소음이 발생한 대상 위치로 이동**, 전략적 플레이 가능
- **Player, NPC, 소음 발생 오브젝트** 모두 INoise 상속하여 관리

---

### 🏷️ 비트 플래그 열거형을 활용한 몬스터 세팅

- **비트 플래그 열거형**을 활용하여 몬스터의 다양한 상태를 조합해 연출 가능
- 게임 씬 시작 시, 몬스터가 다음과 같은 행동을 상황에 맞게 수행:
  - 목표 지역으로 이동
  - 순찰
  - NPC 또는 플레이어 추적
- 일반 열거형과 달리 여러 상태를 동시에 표현할 수 있어, **복합 행동 설정**에 유리
- 확장성 및 관리가 용이해 **유지보수성 향상**

---

### 📄 ScriptableObjects를 활용한 유닛 데이터 관리

- **ScriptableObjects를 활용해 유닛 데이터와 로직 분리 → 모듈화**
- 유닛별 **스탯, 능력치, 설정**을 ScriptableObject로 관리
- **개별 유닛 밸런스 조정 및 테스트가 코드 수정 없이 가능**
- 협업 시, 데이터 수정과 코드 충돌 최소화로 효율성 향상
![Image](https://github.com/user-attachments/assets/216033e9-5089-4d69-8d57-e1a7c5cac2cf)
  
---

### 🧩 상태 패턴과 FSM을 활용한 플레이어 상태 관리

- **상태 패턴 + FSM(Finite State Machine)**을 활용하여 플레이어 입력과 행동 상태를 명확하게 제어
- 상태 전이를 FSM으로 관리하고, 각 상태는 객체로 구분하여 유지보수성 향상

---

### 🎵 지형 및 플레이어 상태에 따른 발걸음 효과음 구현

- **Player의 CharacterController 컴포넌트**가 바닥의 콜라이더 태그 감지
- 감지된 태그(지형 종류)와 플레이어 현재 상태(걷기, 뛰기 등)에 맞는 **발걸음 효과음 재생**
- 다양한 지형에서 플레이어의 몰입감 상승
- 상태 변화와 지형에 따라 자동으로 효과음 변경

---

### 🕹️ 추가 구현 기능

- **Input System 기반 플레이어 조작**
- **AI Navigation 시스템을 통한 몬스터 경로 이동**
  - Unity NavMesh를 활용하여 장애물을 피하며 목표 지점까지 자연스러운 이동
- **Raycast를 활용한 오브젝트 상호작용**
  - 플레이어가 특정 오브젝트에 접근 시 Raycast로 감지하여 상호작용 트리거

